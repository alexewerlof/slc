<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J0S6RM2D7G"></script>
    <script>
    window.dataLayer ||= []
    function gtag(){dataLayer.push(arguments)}
    gtag('js', new Date());gtag('config', 'G-J0S6RM2D7G');
    </script>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../index.css">
    <meta name="description" content="A simple utility for facilitating Service Level Workshops.">
    <meta property="og:title" content="Service Level Workshop">
    <meta property="og:description" content="A simple utility for facilitating Service Level Workshops.">
    <meta property="og:image" content="https://slc.alexewerlof.com/img/icon.png">
    <meta property="og:url" content="https://slc.alexewerlof.com">
    <meta property="og:type" content="website">
    <link rel="icon" type="image/png" href="../img/icon.png">
    <title>Service Level Workshop</title>
</head>

<body>
    <noscript>
        <p>This web application requires JavaScript to work.</p>
    </noscript>
    <main id="app" v-cloak>
        <header>
            <h1>Service Level Workshop (Alpha)</h1>
        </header>
        <article>
            <section>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th></th>
                            <th v-for="service of assessment.allServices" :title="service.system.description">
                                {{ service.system.title }}
                            </th>
                        </tr>
                        <tr>
                            <th></th>
                            <th></th>
                            <th v-for="service of assessment.allServices" :title="service.description">
                                {{ service.title }}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="consumption of assessment.allConsumptions">
                            <th :title="consumption.consumer.description">{{ consumption.consumer.title }}</th>
                            <th :title="consumption.description">{{ consumption.title }}</th>
                            <td v-for="service of assessment.allServices">
                                {{ consumption.getDependency(service)?.failures.length ?? '-' }}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </article>
        <tabs-component
            v-model:selected-tab="selectedTab"
            :tab-names="tabNames"></tabs-component>
        <div v-if="selectedTab === 'Start'">
            <section>
                <h1>Intro</h1>
                <p>
                    This app helps you to systemmatically assess your services together with the consumers
                    to identify proper Service Level Objectives.
                </p>
                <p>
                    The UI is roughly broken into the following steps:
                </p>
                <ul>
                    <li><button @click="selectedTab = 'Provider'">Provider</button>: Define the systems that provide the services</li>
                    <li><button @click="selectedTab = 'Consumers'">Consumers</button>: Define the consumers of the services</li>
                    <li><button @click="selectedTab = 'Failures'">Failures</button>: Define the failures that threaten the consumption of the services</li>
                    <li><button @click="selectedTab = 'Risks'">Risks</button>: Define the business impact of failures and sort them accordingly</li>
                    <li><button @click="selectedTab = 'Service'">Service</button> Levels: Define the metrics that allows you to be on top of those risks</li>
                </ul>      
                <p>
                    You can go back and forth between the tabs as you work your way through the UI.
                </p>
                <h2>Why failures?</h2>
                <p>
                    There are many ways to approach service levels
                    and there are even more pitfalls.
                </p>
                <p>
                    Our approach is based on the following assumptions:
                </p>
                <ul>
                    <li><em>No vanity metrics</em>: SLI tie to system reliability from the consumers' perspective. If an anomaly does not lead to a consumer facing failure and business risk, it is out of scope.</li>
                    <li><em>Full ownership</em>: SLOs should tie to real commitments. The best way to implement commitments is to set alerts on the service level objectives</li>
                    <li><em>Proper modeling</em>: have a clear meaning behind every word to build a common language.</li>
                </ul>
                <h2>Mental Model</h2>
                <p>
                    The UI in this app is built using the following mental model:
                </p>
                <div class="code block">
                    <code>
                        <span class="exprs">Provider</span>
                        owns 1+
                        <span class="exprs">System</span>
                        <br>
                        <span class="exprs">System</span>
                        offers 1+
                        <span class="exprs">Service</span>s.
                        <br>
                        <span class="exprs">Consumer</span>
                        has 1+
                        <span class="exprs">Consumption</span>s
                        to achieve a goal
                        <br>
                        <span class="exprs">Consumption</span>
                        has 1+
                        <span class="exprs">Dependency</span>
                        to <span class="exprs">Service</span>s.
                        <br>
                        <span class="exprs">Dependency</span>
                        has 1+
                        <span class="exprs">Failure</span>
                        <br>
                        <span class="exprs">Risks</span>
                        associates a business
                        <span class="exprs">Impact</span>
                        to a
                        <span class="exprs">Failure</span>
                        <br>
                        <span class="exprs">SLI</span>
                        is a metric to identify
                        <span class="exprs">Failure</span>
                        <br>
                        <span class="exprs">SLS</span>
                        calculates
                        <span class="exprs">SLI</span> over a window
                        <br>
                        <span class="exprs">SLO</span>
                        is a target for
                        <span class="exprs">SLI</span>
                    </code>
                </div>
            </section>
        </div>
        <div v-if="selectedTab === 'Provider'">
            <div class="annotated">
                <div class="annotated__controls">
                    <div class="button-bar">
                        <button @click="assessment.addNewSystem()">Add New System</button>
                    </div>        
                </div>
                <div class="annotated__help">
                    <p>
                        Before defining service levels, we first need to identify the systems that provide
                        those services.
                    </p>
                    <p>
                        You don't need to list all of your systems.
                        As a rule of thumb start with the consumer-facing services
                        and as you work your way through the UI, you can come back and
                        add any missing systems.
                    </p>
                </div>
            </div>
            <show-hide-component 
                v-for="system of assessment.systems"
                title="System"
                :name="system">
                <system-view :system="system"></system-view>
            </show-hide-component>
        </div>

        <div v-if="selectedTab === 'Consumers'">
            <div class="annotated">
                <div class="annotated__controls">
                    <div class="button-bar">
                        <button @click="assessment.addNewConsumer()">Add New Consumer</button>
                    </div>
                </div>
                <div class="annotated__help">
                    <p>
                        The consumer can be any system, team, or user that consumes the services offered by the system.
                        In simple words, a consumer has a dependency on the system.
                        Examples include: APIs, applications, authetication, etc.
                    </p>
                    <p>
                        The consumer can itself be a service provider, but in this context it is the consumer of the systems
                        that were listed in the previous tab.
                    </p>
                    <p>
                        There can also be circular dependencies where one team consumes the services of another team but
                        itself provides some services that are consumed by the other team.
                        Those services are outside the scope of defining the service levels for the systems that are listed in the systems tab.
                    </p>
                </div>
            </div>
            <show-hide-component 
                v-for="consumer of assessment.consumers"
                title="Consumer"
                :name="consumer">
                <consumer-view :consumer="consumer"></consumer-view>
            </show-hide-component>
        </div>

        <div v-if="selectedTab === 'Failures'">
            <div class="annotated">
                <div class="annotated__controls">
                    
                </div>
                <div class="annotated__help">
                    <p>
                        Failures threaten the consumption of a service.
                    </p>
                </div>
            </div>
            <show-hide-component 
                v-for="dependency of assessment.allDependencies"
                title="Dependency"
                :name="dependency">
                <dependency-view :dependency="dependency"></dependency-view>
            </show-hide-component>
        </div>

        <div v-if="selectedTab === 'Risks'">
            <section>
                <h1>Risks</h1>
                <p>What are the risks associated with the failures? Sort them based on the impact on the business.</p>
                <table>
                    <thead>
                        <tr>
                            <th colspan="2">Provicer</th>
                            <th colspan="2">Consumer</th>
                            <th colspan="2">Business</th>
                        </tr>
                        <tr>
                            <th>Service</th>
                            <th>Symptom</th>
                            <th>Consumption</th>
                            <th>Consequence</th>
                            <th>Business Impact</th>
                            <th>Priority</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="failure in assessment.allFailures">
                            <td>{{ failure.dependency.service || '⚠️TBD' }}</td>
                            <td>{{ failure.symptom || '⚠️TBD' }}</td>
                            <td>{{ failure.dependency.consumption || '⚠️TBD' }}</td>
                            <td>{{ failure.consequence || '⚠️TBD' }}</td>
                            <td>
                                <input type="text" v-model="failure.impact">
                            </td>
                            <td>
                                <button @click="failureUp(failure)">🔼</button>
                                <button @click="failureDown(failure)">🔽</button>
                            </td>
                        </tr>
                </table>
            </section>
        </div>
    </main>
    <script type="module" src="index.js" defer async></script>
</body>

</html>