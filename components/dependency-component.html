<div class="dependency-component">
    <id-component :entity="dependency"></id-component>
    <h3>Service</h3>
    <markdown-component :markdown="dependency.service.markdownId"></markdown-component>
    <h3>Task</h3>
    <markdown-component :markdown="dependency.task.markdownId"></markdown-component>
    <lint-component :lint="dependency.lint"></lint-component>
    <fieldset class="b-mar-gap2">
        <legend>Failure ({{ dependency.failures.length }})</legend>
        <select
            v-if="dependency.failures.length"
            v-model="dependency.failures.selected"
        >
            <option v-for="failure in dependency.failures" :value="failure">
                {{ failure.symptom || 'Unknown symptom'}}
            </option>
        </select>
        <div class="input-group">
            <div class="button-bar">
                <button @click="dependency.failures.pushNew()">
                    <icon-component name="add"></icon-component>
                    Add
                </button>
                <button
                    class="button--danger"
                    @click="dependency.failures.removeSelected()"
                    :disabled="!dependency.failures.selected">
                    <icon-component name="delete"></icon-component>
                    Remove
                </button>
            </div>
        </div>
    </fieldset>
    <div class="well" v-if="dependency.failures.selected">
        <failure-component :failure="dependency.failures.selected"></failure-component>
    </div>
</div>
